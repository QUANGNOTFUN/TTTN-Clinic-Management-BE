import { BadRequestException, Injectable } from '@nestjs/common';import { CreateAppointmentRequestDto } from './dto/create.dto';import { PrismaService } from '../prisma/prisma.service';@Injectable()export class AppointmentRequestService {  constructor(private readonly prisma: PrismaService) {}  async create(data: CreateAppointmentRequestDto) {    try {      const appointment = await this.prisma.appointmentRequest.create({        data,      });      return {        message: 'Đặt lịch thành công',        appointment,      };    } catch (error) {      throw new BadRequestException('Đặt lịch bị lỗi!', {        cause: error,      });    }  }  async findAllOfPatient(id: string) {    const user = await this.prisma.account.findUnique({      where: { id },    });    if (!user) {      throw new BadRequestException('Người dùng không tồn tại');    }    return this.prisma.appointmentRequest.findMany({      where: { patient_id: user.id },    });  }}